{
    "$schema": "http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json#",
    "contentVersion": "1.0.0.0",
    "parameters": {
        "appServiceName": {
            "type": "string"
        },
        "appServicePlanName": {
            "type": "string"
        }
    },
	"variables": {
		"apiVersion": "2016-03-01", 
		"location": "[resourceGroup().location]"
	},
    "resources": [ {
		"location": "[variables('location')]",
        "apiVersion":"[variables('apiVersion')]",
		"name": "[parameters('appServiceName')]",
        "type": "Microsoft.Web/sites",
        "properties": {
			"name": "[parameters('appServiceName')]",
			"serverFarmId": "[resourceId('Microsoft.Web/serverfarms', parameters('appServicePlanName'))]"
		}
    }],
    "outputs": {
        "publishingUsername": {
          "value": "[list(resourceId('Microsoft.Web/sites/config', parameters('appServiceName'), 'publishingcredentials'), variables('apiVersion')).properties.publishingUserName]",
          "type": "string"
        },
        "publishingPassword": {
          "value": "[list(resourceId('Microsoft.Web/sites/config', parameters('appServiceName'), 'publishingcredentials'), variables('apiVersion')).properties.publishingPassword]",
          "type": "string"
        }
    }
}